{% extends "base.html" %}

{% block content %}
<h1>{{ ticket.title }}</h1>

<p><strong>Status:</strong> {{ ticket.status }}</p>
<p><strong>Priority:</strong> {{ ticket.priority }}</p>
<p><strong>Assigned To:</strong> {{ ticket.assigned_to }}</p>
<p><strong>Created:</strong> {{ ticket.created_at }}</p>


<h3>Description</h3>
<p>{{ ticket.description }}</p>

<hr>

<h3>Update Ticket Status</h3>

<form method="POST">
    <select name="status">
        <option>Open</option>
        <option>In Progress</option>
        <option>Resolved</option>
        <option>Closed</option>
    </select>

    <button type="submit">Update</button>
</form>

<h3>Work Notes</h3>

{% for note in ticket.notes %}
    <p>â€¢ {{ note.content }} ({{ note.created_at }})</p>
{% else %}
    <p>No updates yet.</p>
{% endfor %}

<hr>

<h3>Add Work Note</h3>
<form method="POST">
    <textarea name="note" rows="4" required></textarea><br><br>
    <button type="submit">Add Note</button>
</form>


{% endblock %}
